<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>冰蓝HTML解析器 - HTML转JSON工具</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>🔷 冰蓝HTML解析器</h1>
            <p class="subtitle">将HTML转换为结构化JSON数据</p>
        </header>

        <main>
            <!-- 输入区域 -->
            <section class="input-section">
                <div class="tabs">
                    <button class="tab-btn active" data-tab="html">HTML内容</button>
                    <button class="tab-btn" data-tab="url">URL地址</button>
                </div>

                <div class="tab-content active" id="html-tab">
                    <div class="input-group">
                        <label for="html-input">输入HTML内容：</label>
                        <textarea 
                            id="html-input" 
                            placeholder="粘贴HTML内容或输入HTML代码..."
                            rows="10"
                        ></textarea>
                        <div class="input-actions">
                            <button class="btn btn-primary" id="parse-html-btn">
                                <span class="btn-icon">🚀</span>
                                解析HTML
                            </button>
                            <button class="btn btn-secondary" id="clear-html-btn">清空</button>
                            <button class="btn btn-secondary" id="sample-html-btn">示例</button>
                        </div>
                    </div>
                </div>

                <div class="tab-content" id="url-tab">
                    <div class="input-group">
                        <label for="url-input">输入URL地址：</label>
                        <input 
                            type="url" 
                            id="url-input" 
                            placeholder="https://example.com"
                        />
                        <div class="input-actions">
                            <button class="btn btn-primary" id="parse-url-btn">
                                <span class="btn-icon">🌐</span>
                                解析URL
                            </button>
                            <button class="btn btn-secondary" id="clear-url-btn">清空</button>
                        </div>
                    </div>
                </div>

                <!-- 解析选项 -->
                <div class="options-panel">
                    <details>
                        <summary>解析选项</summary>
                        <div class="options-grid">
                            <label class="checkbox-label">
                                <input type="checkbox" id="include-images" checked>
                                <span>包含图片</span>
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" id="include-scripts">
                                <span>包含脚本</span>
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" id="include-styles">
                                <span>包含样式</span>
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" id="strict-mode">
                                <span>严格模式</span>
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" id="text-only">
                                <span>仅文本</span>
                            </label>
                        </div>
                        <div class="options-section" style="margin-top: 16px; padding-top: 16px; border-top: 1px solid var(--border-color);">
                            <label class="radio-label" style="display: block; margin-bottom: 12px;">
                                <strong>URL解析方式：</strong>
                            </label>
                            <label class="radio-label">
                                <input type="radio" name="parse-mode" id="parse-mode-server" value="server" checked>
                                <span>服务端解析（推荐）</span>
                                <small style="display: block; color: var(--text-secondary); margin-left: 24px; font-size: 0.85rem;">
                                    绕过CORS限制，可访问内网地址
                                </small>
                            </label>
                            <label class="radio-label" style="margin-top: 8px;">
                                <input type="radio" name="parse-mode" id="parse-mode-client" value="client">
                                <span>客户端解析</span>
                                <small style="display: block; color: var(--text-secondary); margin-left: 24px; font-size: 0.85rem;">
                                    直接请求，更快响应（可能受CORS限制）
                                </small>
                            </label>
                        </div>
                    </details>
                </div>
            </section>

            <!-- 进度指示器 -->
            <div class="progress-container" id="progress-container" style="display: none;">
                <div class="progress-bar">
                    <div class="progress-fill" id="progress-fill"></div>
                </div>
                <div class="progress-text" id="progress-text">解析中...</div>
            </div>

            <!-- 结果展示区域 -->
            <section class="result-section" id="result-section" style="display: none;">
                <div class="result-header">
                    <h2>解析结果</h2>
                    <div class="result-actions">
                        <div class="format-selector">
                            <label>输出格式：</label>
                            <select id="format-select">
                                <option value="json">JSON</option>
                                <option value="text">文本</option>
                                <option value="html">HTML</option>
                                <option value="xml">XML</option>
                            </select>
                        </div>
                        <button class="btn btn-icon" id="copy-btn" title="复制结果">
                            📋
                        </button>
                        <button class="btn btn-icon" id="download-btn" title="下载结果">
                            💾
                        </button>
                        <button class="btn btn-icon" id="expand-btn" title="展开/折叠">
                            ⬇️
                        </button>
                    </div>
                </div>

                <div class="result-tabs">
                    <button class="result-tab active" data-result-tab="formatted">格式化</button>
                    <button class="result-tab" data-result-tab="raw">原始数据</button>
                    <button class="result-tab" data-result-tab="stats">统计信息</button>
                    <button class="result-tab" data-result-tab="images">图片</button>
                    <button class="result-tab" data-result-tab="links">链接</button>
                </div>

                <div class="result-content">
                    <!-- 格式化结果 -->
                    <div class="result-panel active" id="formatted-panel">
                        <pre id="formatted-result"><code></code></pre>
                    </div>

                    <!-- 原始数据 -->
                    <div class="result-panel" id="raw-panel">
                        <div id="raw-result"></div>
                    </div>

                    <!-- 统计信息 -->
                    <div class="result-panel" id="stats-panel">
                        <div class="stats-grid" id="stats-content"></div>
                    </div>

                    <!-- 图片列表 -->
                    <div class="result-panel" id="images-panel">
                        <div class="images-container" id="images-content"></div>
                    </div>

                    <!-- 链接列表 -->
                    <div class="result-panel" id="links-panel">
                        <div class="links-container" id="links-content"></div>
                    </div>
                </div>

                <!-- 详细信息 -->
                <div class="result-details" id="result-details"></div>
            </section>

            <!-- 错误提示 -->
            <div class="error-message" id="error-message" style="display: none;"></div>
        </main>

        <footer>
            <p>© 2024 冰蓝HTML解析器 | 
                <a href="https://github.com" target="_blank">GitHub</a> | 
                <a href="/api/stats" target="_blank">API状态</a>
            </p>
        </footer>
    </div>

    <script src="app.js"></script>
</body>
</html>

